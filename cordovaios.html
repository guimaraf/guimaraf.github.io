<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerando o projeto Xcode no Mac usando Cordova CLI</title>
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/grids-responsive-min.css">
    <link rel="stylesheet" href="css/side-menu.css">
    <!--link rel="stylesheet" href="css/blog/blog-old-ie.css" -->
    <link rel="stylesheet" href="css/blog/blog.css">
    <link rel="stylesheet" href="css/spoiler.css">

    <link href="css/rainbow/blackboard.css" rel="stylesheet" type="text/css" media="screen"><!--b>Para carregar o thema do rainbow</b-->
</head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="#menu" id="menuLink" class="menu-link">
        <span></span>
    </a>

    <div id="menu">
        <div class="pure-menu">
            <ul class="pure-menu-list">
                <li class="pure-menu-item"><a href="index.html" class="pure-menu-link">Home</a></li> 
                <li class="pure-menu-item"><a href="projects.html" class="pure-menu-link">Projects</a></li>
                <li class="pure-menu-item menu-item-divided pure-menu-selected">
                    <a href="devlog.html" class="pure-menu-link">Devlog</a>
                </li>
                <li class="pure-menu-item"><a href="contact.html" class="pure-menu-link">Contact</a></li>
            </ul>
        </div>
    </div>

    <div id="layout" class="pure-g">
        <div class="content pure-u-1 pure-u-md-3-4">
            <div>
                <!-- A wrapper for all the blog posts -->
                <div class="posts">
                <h1 class="content-subhead">Devlog</h1>
        
                    <!-- A single blog post -->
                    <section class="post">
                        <header class="post-header">
                            <img width="48" height="48" alt="Tilo Mitra&#x27;s avatar" class="post-avatar" src="img/common/user.png">
        
                            <h2 class="post-title">Gerando o projeto Xcode no Mac usando Cordova CLI</h2>
        
                            <p class="post-meta">
                                By <a href="#" class="post-author">Fred Oliveira</a> sobre 
                                <a class="post-category post-category-design" href="#">Construct 2</a>
                                <br><b>06 de fevereiro de 2018</b>
                            </p>
                        </header>
        
                        <div class="post-description">
                            <p>
                                <center>
                                    <img alt="" class="pure-img-responsive" src="img/cordovaCLI/cordovaios.png"><br>
                                </center>

                                <h4>Cordova CLI para IOS</h4>
                            </p>
                            
                            <p>
                                Estou partindo do ponto onde seu ambiente esteja todo configurado, Xcode instalado, Node, Cordova, já ter a conta de desenvolvedor 
                                da Apple e também o jogo já exportado pelo Construct 2, caso não tenha feito, verifique na <a href="cordovaBuild.html" >primeira parte que escrevi.</a><br><br>

                                Vamos abordar até a criação do projeto Xcode, assim eliminando a necessidade de algum serviço como Cocoon ou Phonegap Build, que também comentamos no artigo anterior.<br><br>

                                Agora preciso enviar os arquivos exportados do Construct 2 para o meu Mac, eu costumo utilizar o <a href="https://www.google.com/intl/pt-BR_ALL/drive/" target="_blank" >Google Drive</a> via 
                                navegador, pois posso apenas arrastar e soltar o arquivo no navegador, que o upload é feito automaticamente, depois eu só preciso logar minha conta no MAC e baixar o arquivo.<br>
                                Envie o arquivo no formado <a href="http://www.winzip.com/win/br/downwz.html" target="_blank" >.ZIP</a>, pois o próprio OSX vai descompactar o arquivo, criando uma pasta com o mesmo nome.<br><br>

                                Antes de começarmos a falar da compilação cordova, por padrão o OSX bloqueia a manipulação de arquivos, precisamos dar permissão para o usuário fazer as modificações necessárioas.<br>
                                Cloque bom o botão direito sobre o diretório do seu projeto, escolha a opção "Obter Informações", conforme a imagem abaixo.
                            </p>
                                
                            <p>
                                <center>
                                    <img alt="" class="pure-img-responsive" src="img/cordovaCLI/iosfile01.png"><br>
                                </center>
                            </p>

                            <p>
                                Será aberto a janela semelhante da imagem abaixo, clique no cadeado no canto inferior direito, que está indicado na imagem abaixo.
                            </p>

                            <p>
                                <center>
                                    <img alt="" class="pure-img-responsive" src="img/cordovaCLI/iosfile02.png"><br>
                                </center>
                            </p>

                            <p>
                                Será necessário a confirmação com a senha do usuário do sistema.
                            </p>

                            <p>
                                <center>
                                    <img alt="" class="pure-img-responsive" src="img/cordovaCLI/iosfile03.png"><br>
                                </center>
                            </p>

                            <p>
                                Nesta nova janela, clique na engrenagem "objeto de configuração", escolha a primeira opção que será a única no momento disponível.
                            </p>

                            <p>
                                <center>
                                    <img alt="" class="pure-img-responsive" src="img/cordovaCLI/iosfile04.png"><br>
                                </center>
                            </p>

                            <p>
                                Na próxima janela, clique em OK para confirmar o processo.
                            </p>

                            <p>
                                <center>
                                    <img alt="" class="pure-img-responsive" src="img/cordovaCLI/iosfile05.png"><br>
                                </center>
                            </p>

                            <p>Agora podemos continuar o processo.</p>

                            <p>
                                Com o arquivos do projeto no MAC, precisamos entender alguns comandos do terminal, <a href="http://br.ccm.net/faq/26324-uso-do-terminal-no-mac-os-x" target="_blank" >veja neste link</a> os 
                                principais comandos, porém vamos utilizar apenas alguns.<br><br>
                            
                                <pre><code data-language="shell">ls</code></pre>
                                
                                mostra a lista de todos os seus arquivos e pastas<br>

                                <pre><code data-language="shell">cd</code></pre>

                                permite que você vá de um diretório para outro (ex: cd/user/seunome para ir para o seu diretório)<br>

                                <pre><code data-language="shell">clear</code></pre>

                                limpa a tela, restando apenas a primeira linha<br>

                                O comando <b>cd ..</b> é usado para ir ao diretório anterior ou sair do diretório atual
                            </p>

                            <h4>Preparando o projeto</h4>
                            <p>
                                Esta imagem é do diretório exportado pelo Construct 2, como podem ver tem apenas os arquivos do projeto e os arquivos de configuração.
                            </p>

                            <p>
                                <center>
                                    <img alt="" class="pure-img-responsive" src="img/cordovaCLI/iostela1.jpg"><br>
                                </center>
                            </p>

                            <p>
                                Com o terminal aberto, eu usei o comando ls, mostrando os mesmos arquivos pelo terminal.
                            </p>

                            <p>
                                <center>
                                    <img alt="" class="pure-img-responsive" src="img/cordovaCLI/iosterminal.jpg"><br>
                                </center>
                            </p>

                            <p>
                                Agora podemos preparar a plataforma IOS, com o comando
                            </p>
                            
                            <p>
                                Primeiro preciso explicar que o comando
                                <pre><code data-language="shell">sudo</code></pre>
                                que serve para executar comandos como administrador do sistema, necessitando de uma senha <b>"padrão em sistemas linux também"</b>.
                                <pre><code data-language="shell">sudo cordova platform add ios</code></pre>
                                Caso queira inserir alguma versão específica do Cordova IOS, é necessário espeficicar a versão. Vale lembrar que a versão atual é 4.5.4, o comando ficaria.<br>
                                <pre><code data-language="shell">sudo cordova platform add ios@4.5.4</code></pre>
                            </p>
                            
                            <p>
                                O Cordova vai analisar os arquivos de configuração e instalar os plugins descritos.
                            </p>

                            <p>
                                <center>
                                    <img alt="" class="pure-img-responsive" src="img/cordovaCLI/iosplatformadd.jpg"><br>
                                </center>
                            </p>

                            <p>
                                Eu coloquei uma seta para mostrar o comando digitado, deixei mostrando todos os outros até o final da instalação da plataforma IOS e os plugins.<br>
                    
                                Pode usar agora o comando
                                <pre><code data-language="shell">clear</code></pre>
                                para limpar a tela.<br>
                            </p>

                            <p>
                                <center>
                                    <img alt="" class="pure-img-responsive" src="img/cordovaCLI/iosestrutura.jpg"><br>
                                </center>
                                
                                <b>Estrutura do projeto após adicionar a plataforma</b><br>
                            </p>

                            <p>
                                Quando adicionamos a plataforma Cordova IOS, é gerado automaticamente um projeto Xcode com as configurações que deixamos no config.xml.<br>
                                Pronto, agora você já tem seu projeto Xcode gerado. Abra o Xcode e navege até encontrar o diretório do arquivo de configuração necessário, veja na imagem abaixo.
                            </p>

                            <p>
                                <center>
                                    <img alt="" class="pure-img-responsive" src="img/cordovaCLI/iosxcodeabrir.jpg"><br>
                                </center>
                            </p>

                            <p>
                                Aguarde o Xcode terminar de analisar os arquivos.
                            </p>

                            <p>
                                <center>
                                    <img alt="" class="pure-img-responsive" src="img/cordovaCLI/iosxcode.jpg"><br>
                                </center>
                            </p>

                            <p>
                                Concluímos todo o processo desde a geração do projeto no Construct 2, até a geração do projeto Xcode, o restante do processo para enviar para a loja da Apple 
                                não vou abordar.<br><br>
                    
                                Uma dica que posso adiantar, é sobre o <b>Provisioning profile</b>, que é algo que sempre me dá dor de cabeça, sendo assim, deixo este link como leitura auxiliar 
                                para <a href="http://high5devs.com/2017/08/entendendo-certificados-e-provisioning-profiles-do-ios/" target="_blank" >entender  o provisioning profile</b></a> ou se necessário 
                                <a href="https://stackoverflow.com/questions/44672311/ios-how-to-add-a-provisioning-profile" target="_blank" >como resolver o problema do provisioning profile</b></a>.<br>
                    
                                Caso queira usar ads no projero, veja os passoa abaixo, que é abordado a instalação do plugin.
                            </p>

                            <input type="checkbox"  id="spoiler1" />
                            <label for="spoiler1" >ADS</label>
                                <div class="spoiler">
                                    <center>
                                        Para ADS estou utilizando o plugin <a href="https://www.scirra.com/store/construct2-plugins/ultimate-ads-3549" target="_blank" >Ultimate ADS</a>, que já está inserido no projeto.<br><br>
                                        É necessário inserir manualmente o plugin na plataforma, use o comando abaixo.<br>

                                        <pre><code data-language="shell">sudo Cordova plugin add cocoon-plugin-ads-ios-admob</code></pre>

                                        <img alt="" class="pure-img-responsive" src="img/cordovaCLI/iosads.jpg"><br>

                                        Após instalar o plugin, reabra o projeto no Xcode.
                                    </center>
                                </div>
                            <p id="pSpoiler"><b>Clique ADS para exibir detalhes de como configurar e usar</b></p>

                            <br>

                            <p>
                                <a href="devlog.html">Voltar</a>
                            </p>

                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="js/ui.js"></script>

<script src="js/rainbow/rainbow.js"></script>
<script src="js/rainbow/generic.js"></script>
<script src="js/rainbow/javascript.js"></script>
<script src="js/rainbow/html.js"></script>
<script src="js/rainbow/python.js"></script>
<script src="js/rainbow/csharp.js"></script>
<script src="js/rainbow/shell.js"></script>

</body>
</html>